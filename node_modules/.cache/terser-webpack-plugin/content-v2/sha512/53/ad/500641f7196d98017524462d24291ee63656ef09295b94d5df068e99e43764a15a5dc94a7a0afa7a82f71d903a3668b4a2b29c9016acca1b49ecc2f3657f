{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{293:function(n,a,e){n.exports=e.p+\"assets/img/06-command-pattern-1.9598b482.png\"},294:function(n,a,e){n.exports=e.p+\"assets/img/06-command-pattern-2.33cb2bac.png\"},295:function(n,a,e){n.exports=e.p+\"assets/img/06-command-pattern-3.d3ca8d7b.png\"},296:function(n,a,e){n.exports=e.p+\"assets/img/06-command-pattern-4.f34aebfb.png\"},392:function(n,a,e){\"use strict\";e.r(a);var t=e(0),o=Object(t.a)({},function(){var n=this,a=n.$createElement,t=n._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":n.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"å‘½ä»¤æ¨¡å¼\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#å‘½ä»¤æ¨¡å¼\",\"aria-hidden\":\"true\"}},[n._v(\"#\")]),n._v(\" å‘½ä»¤æ¨¡å¼\")]),n._v(\" \"),t(\"p\",[n._v(\"ä¸€ä¸ªé¤å…ç‚¹é¤çš„äº¤äº’è¿‡ç¨‹\")]),n._v(\" \"),t(\"ol\",[t(\"li\",[n._v(\"å®¢æˆ·åˆ›å»ºè®¢å•\")]),n._v(\" \"),t(\"li\",[n._v(\"è®¢å•å°è£…äº†å‡†å¤‡é¤ç‚¹çš„è¯·æ±‚\")]),n._v(\" \"),t(\"li\",[n._v(\"å¥³æ‹›å¾…çš„å·¥ä½œæ˜¯æ¥å—è®¢å•ï¼Œç„¶åè°ƒç”¨è®¢å•çš„ orderUp() æ–¹æ³•\")]),n._v(\" \"),t(\"li\",[n._v(\"å¨å¸ˆå…·å¤‡å…·ä½“å‡†å¤‡é¤ç‚¹çš„èƒ½åŠ›\\n\"),t(\"img\",{attrs:{src:e(293),alt:\"\"}})])]),n._v(\" \"),t(\"p\",[n._v(\"æŠ½è±¡å‡ºæ¥å‘½ä»¤æ¨¡å¼\\n\"),t(\"img\",{attrs:{src:e(294),alt:\"\"}})]),n._v(\" \"),t(\"p\",[n._v(\"å…·ä½“ä»£ç è§\"),t(\"a\",{attrs:{href:\"./code/06-command-pattern/01-Command\"}},[n._v(\"è¿™é‡Œ\")])]),n._v(\" \"),t(\"h2\",{attrs:{id:\"å®šä¹‰å‘½ä»¤æ¨¡å¼\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#å®šä¹‰å‘½ä»¤æ¨¡å¼\",\"aria-hidden\":\"true\"}},[n._v(\"#\")]),n._v(\" å®šä¹‰å‘½ä»¤æ¨¡å¼\")]),n._v(\" \"),t(\"p\",[n._v(\"å‘½ä»¤æ¨¡å¼ï¼šå°†â€œè¯·æ±‚â€å°è£…æˆå¯¹è±¡ï¼Œä¸€è¾¹ä½¿ç”¨ä¸åŒçš„è¯·æ±‚ã€é˜Ÿåˆ—æˆ–è€…æ—¥å¿—æ¥æ¥å‚æ•°åŒ–å…¶ä»–å¯¹è±¡ã€‚å‘½ä»¤æ¨¡å¼ä¹Ÿæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚\")]),n._v(\" \"),t(\"p\",[n._v(\"æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªå‘½ä»¤å¯¹è±¡é€šè¿‡åœ¨ç‰¹å®šæ¥æ”¶è€…ä¸Šç»‘å®šä¸€ç»„åŠ¨ä½œæ¥å°è£…ä¸€ä¸ªè¯·æ±‚ã€‚è¦è¾¾åˆ°è¿™ç‚¹ï¼Œå‘½ä»¤å¯¹è±¡é—´åŠ¨ä½œå’Œæ¥æ”¶è€…åŒ…è¿›å¯¹è±¡ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡åªæš´éœ²å‡ºä¸€ä¸ªexecute()æ–¹æ³•ï¼Œå½“æ­¤æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œæ¥æ”¶è€…å°±ä¼šè¿›è¡Œè¿™äº›åŠ¨ä½œï¼Œä»å¤–é¢æ¥çœ‹ï¼Œå…¶ä»–å¯¹è±¡ä¸çŸ¥é“ç©¶ç«Ÿå“ªä¸ªæ¥æ”¶è€…è¿›è¡Œäº†é‚£äº›åŠ¨ä½œï¼ŒåªçŸ¥é“å¦‚æœè°ƒåŠ¨execute()æ–¹æ³•ï¼Œè¯·æ±‚çš„ç›®çš„å°±èƒ½è¾¾åˆ°ã€‚\")]),n._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:e(295),alt:\"\"}})]),n._v(\" \"),t(\"h2\",{attrs:{id:\"å®ç°é¥æ§å™¨\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#å®ç°é¥æ§å™¨\",\"aria-hidden\":\"true\"}},[n._v(\"#\")]),n._v(\" å®ç°\\bé¥æ§å™¨\")]),n._v(\" \"),t(\"p\",[n._v(\"å…·ä½“ä»£ç è§\"),t(\"a\",{attrs:{href:\"./code/06-command-pattern/02-Command\"}},[n._v(\"è¿™é‡Œ\")])]),n._v(\" \"),t(\"p\",[n._v(\"ç®€å•æ¥è¯´å°±æ˜¯åœ¨ RemoteControl ç±»ä¸­\\bé€šè¿‡æ•°ç»„æ¥ä½œä¸ºå„ç§å‘½ä»¤çš„\\bå®¹å™¨ï¼Œç„¶å\\båœ¨æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™é€šè¿‡æ–¹æ³• \"),t(\"code\",[n._v(\"func setCommand(slot:Int, onCommand: Command, offCommand: Command)\")]),n._v(\"æ¥è®¾ç½®ã€‚\")]),n._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:e(296),alt:\"\"}})]),n._v(\" \"),t(\"h2\",{attrs:{id:\"ä½¿ç”¨çŠ¶æ€æ’¤é”€\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ä½¿ç”¨çŠ¶æ€æ’¤é”€\",\"aria-hidden\":\"true\"}},[n._v(\"#\")]),n._v(\" ä½¿ç”¨çŠ¶æ€æ’¤é”€\")]),n._v(\" \"),t(\"p\",[n._v(\"åœ¨ CeilingFanHighCommand \\bçš„ undo æ–¹æ³•ä¸­\\bæ·»åŠ ä»¥ä¸‹ä»£ç \")]),n._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[n._v(\"    var prevSpeed: SpeedType = .Off\\n\")])])]),t(\"p\",[n._v(\"ä½¿ç”¨ prevSpeed æ¥è®°å½•ä¸Šæ¬¡çš„ speed\")]),n._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[n._v(\"    func undo() {\\n        switch prevSpeed {\\n        case .High:\\n            ceilingFan.high()\\n        case .Medium:\\n            ceilingFan.medium()\\n        case .Low:\\n            ceilingFan.low()\\n        case .Off:\\n            ceilingFan.off()\\n        }\\n    }\\n\")])])]),t(\"p\",[n._v(\"ç„¶ååœ¨ undo æ–¹æ³•ä¸­é€šè¿‡ä¸Šæ¬¡è®°å½•çš„ prevSpeed æ¥è¿˜åŸä¸Šæ¬¡çš„æ“ä½œã€‚\")]),n._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[n._v('var remoteControl = RemoteControl()\\n\\nvar ceilingFan = CeilingFan(name: \"Living Room\")\\n\\nvar ceilingFanHighCommand = CeilingFanHighCommand(ceilingFan: ceilingFan)\\nvar ceilingFanMdeiomCommand = CeilingFanMediumCommand(ceilingFan: ceilingFan)\\nvar ceilingFanOffCommand = CeilingFanOffCommand(ceilingFan: ceilingFan)\\n\\nremoteControl.setCommand(slot: 0, onCommand: ceilingFanHighCommand, offCommand: ceilingFanOffCommand)\\nremoteControl.setCommand(slot: 1, onCommand: ceilingFanMdeiomCommand, offCommand: ceilingFanOffCommand)\\n\\n// ç‚¹å‡»ç¬¬ä¸€è¡Œçš„ on å¼€å…³ï¼ŒremoteControl çš„æˆå‘˜å˜é‡ undoCommand ä¼šè®°å½•ä¸‹ ceilingFanHighCommandï¼ŒceilingFanHighCommand çš„ prevSpeed ä¼šå…ˆè®°å½•ä¸‹ä¹‹å‰çš„ speed: off,ç„¶åè°ƒç”¨ ceilingFan çš„ high\\nremoteControl.onButtonWasPressed(solt: 0)\\n// ç‚¹å‡»ç¬¬ä¸€è¡Œçš„ off å¼€å…³ï¼ŒremoteControl çš„æˆå‘˜å˜é‡ undoCommand ä¼šè®°å½•ä¸‹ ceilingFanOffCommandï¼ŒceilingFanOffCommand çš„ prevSpeed ä¼šè®°å½•ä¸‹ä¹‹å‰çš„speedï¼š highï¼Œ ç„¶åè°ƒç”¨ ceilingFan çš„ off\\nremoteControl.offButtonWasPressed(solt: 0)\\n// ç‚¹å‡»æ’¤é”€æ—¶remoteControl çš„æˆå‘˜å˜é‡ undoCommand æ˜¯ ceilingFanOffCommandï¼Œå› æ­¤ è°ƒç”¨ ceilingFanOffCommand çš„ undo æ ¹æ®ä¹‹å‰è®°å½•ä¸‹çš„ prevSpeedï¼šhighï¼Œ ç„¶åæ‰§è¡Œ high\\nremoteControl.undoButtonWasPressed()\\n\\nremoteControl.onButtonWasPressed(solt: 1)\\nremoteControl.undoButtonWasPressed()\\n')])])]),t(\"h2\",{attrs:{id:\"å‘½ä»¤æ¨¡å¼çš„å…¶ä»–ç”¨é€”\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#å‘½ä»¤æ¨¡å¼çš„å…¶ä»–ç”¨é€”\",\"aria-hidden\":\"true\"}},[n._v(\"#\")]),n._v(\" å‘½ä»¤æ¨¡å¼çš„å…¶ä»–ç”¨é€”\")]),n._v(\" \"),t(\"h3\",{attrs:{id:\"é˜Ÿåˆ—è¯·æ±‚\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#é˜Ÿåˆ—è¯·æ±‚\",\"aria-hidden\":\"true\"}},[n._v(\"#\")]),n._v(\" é˜Ÿåˆ—è¯·æ±‚\")]),n._v(\" \"),t(\"p\",[n._v(\"å‘½ä»¤å¯ä»¥å°†è¿ç®—å—æ‰“åŒ…(ä¸€ä¸ªæ¥å—è€…å’Œä¸€ç»„åŠ¨ä½œ)ï¼Œç„¶åå°†å®ƒä¼ æ¥ä¼ å»ï¼Œå°±åƒæ˜¯ä¸€èˆ¬çš„å¯¹è±¡ä¸€æ ·ï¼Œç°åœ¨ï¼Œå³ä½¿åœ¨å‘½ä»¤å¯¹è±¡è¢«åˆ›å»ºè®¸ä¹…ä¹‹åï¼Œè¿ç®—ä¾ç„¶å¯ä»¥è¢«è°ƒç”¨ï¼Œäº‹å®ä¸Šï¼Œå®ƒç”šè‡³å¯ä»¥åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­è¢«è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™æ ·çš„ç‰¹æ€§è¡ç”Ÿä¸€äº›åº”ç”¨ï¼Œä¾‹å¦‚ï¼šæ—¥ç¨‹å®‰æ’ï¼Œçº¿ç¨‹æ± ï¼Œå·¥ä½œé˜Ÿåˆ—ç­‰ã€‚\")]),n._v(\" \"),t(\"p\",[n._v(\"æƒ³è±¡æœ‰ä¸€ä¸ªå·¥ä½œé˜Ÿåˆ—ï¼šä½ åœ¨æŸä¸€ç«¯æ·»åŠ å‘½ä»¤ï¼Œç„¶åå¦ä¸€ç«¯åˆ™æ˜¯çº¿ç¨‹ï¼Œçº¿ç¨‹è¿›è¡Œä¸‹é¢çš„åŠ¨ä½œï¼šä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªå‘½ä»¤ï¼Œè°ƒç”¨å®ƒçš„execute()æ–¹æ³•ï¼Œç­‰å¾…è¿™ä¸ªè°ƒç”¨å®Œæˆï¼Œç„¶åå°†æ­¤å‘½ä»¤å¯¹è±¡ä¸¢å¼ƒï¼Œå†å–å‡ºä¸‹ä¸€ä¸ªå‘½ä»¤â€¦â€¦\")]),n._v(\" \"),t(\"h3\",{attrs:{id:\"æ—¥å¿—è¯·æ±‚\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#æ—¥å¿—è¯·æ±‚\",\"aria-hidden\":\"true\"}},[n._v(\"#\")]),n._v(\" æ—¥å¿—è¯·æ±‚\")]),n._v(\" \"),t(\"p\",[n._v(\"æ›´å¤šåº”ç”¨éœ€è¦æˆ‘ä»¬å°†æ‰€æœ‰çš„åŠ¨ä½œéƒ½è®°å½•åœ¨æ—¥å¿—ä¸­ï¼Œå¹¶èƒ½åœ¨ç³»ç»Ÿæ­»æœºåï¼Œé‡æ–°è°ƒç”¨è¿™äº›åŠ¨ä½œæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚å½“æˆ‘ä»¬æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œå°†å†æ—¶è®°å½•å­˜å‚¨åœ¨ç£ç›˜ä¸­ã€‚ä¸€æ—¦ç³»ç»Ÿæ­»æœºï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å‘½ä»¤å¯¹è±¡é‡æ–°åŠ è½½ï¼Œå¹¶æˆæ‰¹åœ°ä¾æ¬¡è°ƒç”¨è¿™äº›å¯¹è±¡çš„execute()æ–¹æ³•ã€‚\")]),n._v(\" \"),t(\"h2\",{attrs:{id:\"å‘½ä»¤æ¨¡å¼çš„æ€è€ƒ-ğŸ¤”\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#å‘½ä»¤æ¨¡å¼çš„æ€è€ƒ-ğŸ¤”\",\"aria-hidden\":\"true\"}},[n._v(\"#\")]),n._v(\" å‘½ä»¤æ¨¡å¼çš„æ€è€ƒ ğŸ¤”\")]),n._v(\" \"),t(\"p\",[n._v(\"ä¸ªäººæ„Ÿè§‰ OC ä¸­çš„ Block å’Œ Swift ä¸­çš„ é—­åŒ…ï¼Œéƒ½å¯ä»¥çœ‹æˆæ˜¯ä¸€ç»„å‘½ä»¤ï¼Œä¹Ÿæ˜¯å‘½ä»¤æ¨¡å¼çš„ä¸€ç§å®ç°ã€‚æ¯”å¦‚ A æ§åˆ¶ push å‡º B æ§åˆ¶å™¨çš„æ—¶å€™ï¼ŒA å¯ä»¥é€šè¿‡ç»™ B çš„ä¸€ä¸ª Block å±æ€§èµ‹å€¼ï¼ŒæŠŠä¸€äº›æ“ä½œå°è£…æˆå‘½ä»¤ä¼ ç»™ Bï¼Œè¿™æ ·çš„è¯ æ¯”å¦‚ B æ§åˆ¶å™¨\\bå†…æŸä¸ªæŒ‰é’®ç‚¹å‡»åå°±å¯ä»¥é€šè¿‡è°ƒç”¨ Block å±æ€§æ¥æ‰§è¡Œ A ä¼ è¿‡æ¥çš„å‘½ä»¤ï¼Œè€Œä¸å¿…å…³å¿ƒ\\bå…·ä½“çš„å‘½ä»¤æ˜¯ä»€ä¹ˆã€‚\")])])},[],!1,null,null,null);a.default=o.exports}}]);","extractedComments":[]}